<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒã‚¤ã‚¯ãƒ­ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯æ‘‚å–é‡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      height: 8px;
      border-radius: 4px;
      background: #e5e7eb;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #2563eb;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #2563eb;
      cursor: pointer;
      border: none;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen p-4 md:p-8">
  <div class="max-w-2xl mx-auto" id="app">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="text-center mb-8">
      <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2">
        ãƒã‚¤ã‚¯ãƒ­ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯æ‘‚å–é‡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼
      </h1>
      <p class="text-gray-600 text-sm">
        1æ—¥ã®ç¿’æ…£ã‹ã‚‰ã€ç›¸å¯¾çš„ãªæ‘‚å–é‡ã‚’æ¨å®šã—ã¾ã™
      </p>
    </div>

    <!-- å…¥åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6">
      <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
        <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-sm">1</span>
        1æ—¥ã®ç¿’æ…£ã‚’å…¥åŠ›
      </h2>
      
      <!-- ãƒšãƒƒãƒˆãƒœãƒˆãƒ«æ°´ -->
      <div class="mb-6">
        <div class="flex justify-between items-center mb-2">
          <label class="text-sm font-medium text-gray-700 flex items-center gap-2">
            <span>ğŸ¶</span> ãƒšãƒƒãƒˆãƒœãƒˆãƒ«æ°´ï¼ˆ500mlï¼‰
          </label>
          <span class="text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded-full">
            <span id="bottledWater-value">1</span> æœ¬/æ—¥
          </span>
        </div>
        <input type="range" id="bottledWater" min="0" max="5" value="1" class="w-full" oninput="updateSimulator()">
        <div class="flex justify-between text-xs text-gray-400 mt-1"><span>0</span><span>5</span></div>
      </div>

      <!-- æ°´é“æ°´ -->
      <div class="mb-6">
        <div class="flex justify-between items-center mb-2">
          <label class="text-sm font-medium text-gray-700 flex items-center gap-2">
            <span>ğŸš°</span> æ°´é“æ°´
          </label>
          <span class="text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded-full">
            <span id="tapWater-value">1</span> L/æ—¥
          </span>
        </div>
        <input type="range" id="tapWater" min="0" max="3" value="1" class="w-full" oninput="updateSimulator()">
        <div class="flex justify-between text-xs text-gray-400 mt-1"><span>0</span><span>3</span></div>
      </div>

      <!-- ãƒ†ã‚£ãƒ¼ãƒãƒƒã‚° -->
      <div class="mb-6">
        <div class="flex justify-between items-center mb-2">
          <label class="text-sm font-medium text-gray-700 flex items-center gap-2">
            <span>ğŸµ</span> ãƒ†ã‚£ãƒ¼ãƒãƒƒã‚°ï¼ˆãƒ—ãƒ©è£½ï¼‰
          </label>
          <span class="text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded-full">
            <span id="teaBags-value">2</span> æ¯/æ—¥
          </span>
        </div>
        <input type="range" id="teaBags" min="0" max="10" value="2" class="w-full" oninput="updateSimulator()">
        <div class="flex justify-between text-xs text-gray-400 mt-1"><span>0</span><span>10</span></div>
      </div>

      <!-- ãƒ—ãƒ©ã‚«ãƒƒãƒ—ç†±é£²æ–™ -->
      <div class="mb-6">
        <div class="flex justify-between items-center mb-2">
          <label class="text-sm font-medium text-gray-700 flex items-center gap-2">
            <span>â˜•</span> ãƒ—ãƒ©ã‚«ãƒƒãƒ—ç†±é£²æ–™ï¼ˆã‚³ãƒ¼ãƒ’ãƒ¼ç­‰ï¼‰
          </label>
          <span class="text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded-full">
            <span id="hotCup-value">2</span> æ¯/æ—¥
          </span>
        </div>
        <input type="range" id="hotCup" min="0" max="10" value="2" class="w-full" oninput="updateSimulator()">
        <div class="flex justify-between text-xs text-gray-400 mt-1"><span>0</span><span>10</span></div>
      </div>

      <!-- ãƒ—ãƒ©å®¹å™¨åŠ ç†± -->
      <div class="mb-6">
        <div class="flex justify-between items-center mb-2">
          <label class="text-sm font-medium text-gray-700 flex items-center gap-2">
            <span>ğŸ“¦</span> ãƒ—ãƒ©å®¹å™¨ãƒ¬ãƒ³ã‚¸åŠ ç†±ï¼ˆå¼å½“ç­‰ï¼‰
          </label>
          <span class="text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded-full">
            <span id="plasticHeating-value">1</span> å€‹/æ—¥
          </span>
        </div>
        <input type="range" id="plasticHeating" min="0" max="10" value="1" class="w-full" oninput="updateSimulator()">
        <div class="flex justify-between text-xs text-gray-400 mt-1"><span>0</span><span>10</span></div>
      </div>

      <!-- ã‚«ãƒƒãƒ—éºº -->
      <div class="mb-6">
        <div class="flex justify-between items-center mb-2">
          <label class="text-sm font-medium text-gray-700 flex items-center gap-2">
            <span>ğŸœ</span> ã‚«ãƒƒãƒ—éººãƒ»ã‚«ãƒƒãƒ—ã‚¹ãƒ¼ãƒ—
          </label>
          <span class="text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded-full">
            <span id="cupNoodle-value">0</span> å€‹/æ—¥
          </span>
        </div>
        <input type="range" id="cupNoodle" min="0" max="5" value="0" class="w-full" oninput="updateSimulator()">
        <div class="flex justify-between text-xs text-gray-400 mt-1"><span>0</span><span>5</span></div>
      </div>
    </div>

    <!-- çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div id="result-section" class="rounded-2xl shadow-sm border p-6 mb-6 bg-amber-50 border-amber-200">
      <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
        <span class="w-8 h-8 bg-white rounded-full flex items-center justify-center text-gray-600 text-sm shadow-sm">2</span>
        æ¨å®šçµæœ
      </h2>
      
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-4">
        <div class="bg-white/80 backdrop-blur rounded-xl p-3 text-center">
          <div class="text-2xl font-bold text-gray-800" id="daily-particles">36.1K</div>
          <div class="text-xs text-gray-600">ç²’å­/æ—¥</div>
        </div>
        <div class="bg-white/80 backdrop-blur rounded-xl p-3 text-center">
          <div class="text-2xl font-bold text-gray-800" id="weekly-particles">252.7K</div>
          <div class="text-xs text-gray-600">ç²’å­/é€±</div>
        </div>
        <div class="bg-white/80 backdrop-blur rounded-xl p-3 text-center">
          <div class="text-2xl font-bold text-gray-800" id="yearly-particles">13.2M</div>
          <div class="text-xs text-gray-600">ç²’å­/å¹´</div>
        </div>
        <div class="bg-white/80 backdrop-blur rounded-xl p-3 text-center">
          <div class="text-2xl font-bold text-gray-800" id="forty-year-particles">526.6M</div>
          <div class="text-xs text-gray-600">ç²’å­/40å¹´</div>
        </div>
      </div>

      <div class="flex items-center justify-center gap-3 py-3">
        <span class="text-gray-600">æ‘‚å–ãƒ¬ãƒ™ãƒ«:</span>
        <span class="text-xl font-bold" id="level-text">ã‚„ã‚„é«˜ã‚</span>
      </div>

      <!-- å…·ä½“ä¾‹è¡¨ç¤º -->
      <div class="bg-white/80 backdrop-blur rounded-xl p-4 text-center mt-4" id="metaphor-box">
        <div class="text-lg text-gray-700 mb-1">40å¹´é–“ã§...</div>
        <div class="text-2xl font-bold" id="metaphor-text">ğŸ² ã‚µã‚¤ã‚³ãƒ­ 2å€‹åˆ†</div>
        <div class="text-xs text-gray-500 mt-2" id="metaphor-weight">(ç´„ 8.5g)</div>
      </div>

      <!-- å¯„ä¸åº¦ãƒãƒ¼ -->
      <div class="mt-4 bg-white/60 rounded-xl p-4">
        <div class="text-sm font-medium text-gray-700 mb-2">çµŒè·¯åˆ¥ã®å¯„ä¸åº¦</div>
        <div class="flex h-6 rounded-full overflow-hidden bg-gray-100" id="contribution-bar"></div>
        <div class="flex flex-wrap gap-2 mt-2 text-xs" id="contribution-legend"></div>
      </div>
    </div>

    <!-- è¡Œå‹•å¤‰å®¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6" id="action-section">
      <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
        <span class="w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 text-sm">3</span>
        ä»Šæ—¥ã‹ã‚‰ã§ãã‚‹ã“ã¨
      </h2>
      <div class="space-y-3" id="action-items"></div>
    </div>

    <!-- æ³¨æ„æ›¸ã -->
    <div class="bg-gray-50 rounded-2xl p-6 border border-gray-200">
      <button onclick="toggleDetails()" class="flex items-center justify-between w-full text-left">
        <span class="text-sm font-medium text-gray-700">âš ï¸ æ¨å®šå€¤ã«ã¤ã„ã¦</span>
        <span class="text-gray-400" id="details-arrow">â–¼</span>
      </button>
      
      <div class="mt-4 text-sm text-gray-600 space-y-2 hidden" id="details-content">
        <p><strong>ã“ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®é™ç•Œï¼š</strong></p>
        <ul class="list-disc list-inside space-y-1 ml-2">
          <li>æ¸¬å®šæ–¹æ³•ã«ã‚ˆã‚ŠçµæœãŒ2ã€œ5æ¡ç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™</li>
          <li>WWFã®ã€Œé€±5gï¼ˆã‚¯ãƒ¬ã‚«1æšï¼‰ã€èª¬ã¯å­¦è¡“çš„ã«å¦å®šã•ã‚Œã¦ã„ã¾ã™</li>
          <li>å®Ÿéš›ã®æ‘‚å–é‡ã¯æ•°Î¼gã€œæ•°ç™¾mg/é€±ã¨æ¨å®šå¹…ãŒéå¸¸ã«åºƒã„ã§ã™</li>
          <li>å¥åº·ãƒªã‚¹ã‚¯ã®é–¾å€¤ã¯ç¾æ™‚ç‚¹ã§ä¸æ˜ã§ã™</li>
        </ul>
        <p class="mt-3"><strong>ã“ã®ãƒ„ãƒ¼ãƒ«ã®ç›®çš„ï¼š</strong></p>
        <ul class="list-disc list-inside space-y-1 ml-2">
          <li>çµ¶å¯¾é‡ã§ã¯ãªãã€ç›¸å¯¾çš„ãªæ¯”è¼ƒã¨å‚¾å‘æŠŠæ¡</li>
          <li>è¡Œå‹•å¤‰å®¹ã®æ–¹å‘æ€§ã‚’ç¤ºã™ã“ã¨</li>
          <li>ã€Œã©ã®ç¿’æ…£ãŒå½±éŸ¿å¤§ã‹ã€ã®å¯è¦–åŒ–</li>
        </ul>
        <p class="mt-3 text-xs text-gray-500">
          ä¿‚æ•°å‡ºå…¸: Mason 2018, Hernandez 2019, Mohamed Nor 2021, IIT Kharagpur 2021, China Jiliang Univ 2022
        </p>
      </div>
    </div>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <div class="text-center mt-6 text-xs text-gray-400">
      <a href="index.html" class="hover:text-gray-600">Under-Recognized Future Risks Project</a>
    </div>
  </div>

  <script>
    // ä¿‚æ•°ï¼ˆ1æ—¥ã‚ãŸã‚Šï¼‰
    const COEFFICIENTS = {
      bottledWater: 50,      // ç²’å­/æœ¬ï¼ˆ500mlï¼‰
      tapWater: 10,          // ç²’å­/L
      teaBag: 10000,         // ç²’å­/æ¯ï¼ˆãƒ—ãƒ©è£½ï¼‰
      hotCup: 8000,          // ç²’å­/æ¯ï¼ˆç†±é£²æ–™ã§ãƒ—ãƒ©æº¶å‡ºä¿ƒé€²ï¼‰
      plasticHeating: 5000,  // ç²’å­/å€‹
      cupNoodle: 8000        // ç²’å­/å€‹ï¼ˆç†±æ¹¯+ç™ºæ³¡ã‚¹ãƒãƒ­ãƒ¼ãƒ«ï¼‰
    };

    const contributorLabels = {
      bottledWater: 'ãƒšãƒƒãƒˆãƒœãƒˆãƒ«',
      tapWater: 'æ°´é“æ°´',
      teaBags: 'ãƒ†ã‚£ãƒ¼ãƒãƒƒã‚°',
      hotCup: 'ãƒ—ãƒ©ã‚«ãƒƒãƒ—ç†±é£²æ–™',
      plasticHeating: 'ãƒ—ãƒ©å®¹å™¨åŠ ç†±',
      cupNoodle: 'ã‚«ãƒƒãƒ—éºº'
    };

    const colors = ['bg-blue-500', 'bg-cyan-500', 'bg-amber-500', 'bg-purple-500', 'bg-rose-500', 'bg-orange-500'];

    // æ¯”å–©ç”¨ã®åŸºæº–ï¼ˆã‚°ãƒ©ãƒ ï¼‰
    const METAPHORS = {
      dice: { name: 'ã‚µã‚¤ã‚³ãƒ­', weight: 4, icon: 'ğŸ²' },
      creditCard: { name: 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰', weight: 5, icon: 'ğŸ’³' },
      phoneCase: { name: 'ã‚¹ãƒãƒ›ã‚±ãƒ¼ã‚¹', weight: 30, icon: 'ğŸ“±' },
      phone: { name: 'ã‚¹ãƒãƒ›', weight: 170, icon: 'ğŸ“±' }
    };

    // ç²’å­æ•°â†’è³ªé‡æ›ç®—ï¼ˆä¿å®ˆçš„æ¨å®š: 1å„„ç²’å­ â‰’ 1gï¼‰
    const PARTICLES_PER_GRAM = 100000000;

    function getMetaphor(fortyYearParticles) {
      const grams = fortyYearParticles / PARTICLES_PER_GRAM;
      
      if (grams >= 170) {
        const count = Math.round(grams / METAPHORS.phone.weight * 10) / 10;
        return { ...METAPHORS.phone, count, grams };
      } else if (grams >= 30) {
        const count = Math.round(grams / METAPHORS.phoneCase.weight * 10) / 10;
        return { ...METAPHORS.phoneCase, count, grams };
      } else if (grams >= 5) {
        const count = Math.round(grams / METAPHORS.creditCard.weight * 10) / 10;
        return { ...METAPHORS.creditCard, count, grams };
      } else {
        const count = Math.round(grams / METAPHORS.dice.weight * 10) / 10;
        return { ...METAPHORS.dice, count, grams: Math.max(grams, 0.1) };
      }
    }

    function formatNumber(num) {
      if (num >= 1000000000) return `${(num / 1000000000).toFixed(1)}B`;
      if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;
      if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;
      return num.toLocaleString();
    }

    function updateSimulator() {
      const bottledWater = parseInt(document.getElementById('bottledWater').value);
      const tapWater = parseInt(document.getElementById('tapWater').value);
      const teaBags = parseInt(document.getElementById('teaBags').value);
      const hotCup = parseInt(document.getElementById('hotCup').value);
      const plasticHeating = parseInt(document.getElementById('plasticHeating').value);
      const cupNoodle = parseInt(document.getElementById('cupNoodle').value);

      // å€¤è¡¨ç¤ºã‚’æ›´æ–°
      document.getElementById('bottledWater-value').textContent = bottledWater;
      document.getElementById('tapWater-value').textContent = tapWater;
      document.getElementById('teaBags-value').textContent = teaBags;
      document.getElementById('hotCup-value').textContent = hotCup;
      document.getElementById('plasticHeating-value').textContent = plasticHeating;
      document.getElementById('cupNoodle-value').textContent = cupNoodle;

      // è¨ˆç®—ï¼ˆ1æ—¥ã‚ãŸã‚Šï¼‰
      const contributions = {
        bottledWater: bottledWater * COEFFICIENTS.bottledWater,
        tapWater: tapWater * COEFFICIENTS.tapWater,
        teaBags: teaBags * COEFFICIENTS.teaBag,
        hotCup: hotCup * COEFFICIENTS.hotCup,
        plasticHeating: plasticHeating * COEFFICIENTS.plasticHeating,
        cupNoodle: cupNoodle * COEFFICIENTS.cupNoodle
      };

      const dailyParticles = Object.values(contributions).reduce((a, b) => a + b, 0);
      const weeklyParticles = dailyParticles * 7;
      const yearlyParticles = dailyParticles * 365;
      const fortyYearParticles = yearlyParticles * 40;

      // çµæœè¡¨ç¤º
      document.getElementById('daily-particles').textContent = formatNumber(dailyParticles);
      document.getElementById('weekly-particles').textContent = formatNumber(weeklyParticles);
      document.getElementById('yearly-particles').textContent = formatNumber(yearlyParticles);
      document.getElementById('forty-year-particles').textContent = formatNumber(fortyYearParticles);

      // ãƒ¬ãƒ™ãƒ«åˆ¤å®šï¼ˆ1æ—¥ã‚ãŸã‚Šã§åˆ¤å®šï¼‰
      let level, levelColor, bgClass, borderClass;
      if (dailyParticles < 1000) {
        level = 'ä½'; levelColor = 'text-emerald-700';
        bgClass = 'bg-emerald-50'; borderClass = 'border-emerald-200';
      } else if (dailyParticles < 10000) {
        level = 'å¹³å‡çš„'; levelColor = 'text-blue-700';
        bgClass = 'bg-blue-50'; borderClass = 'border-blue-200';
      } else if (dailyParticles < 50000) {
        level = 'ã‚„ã‚„é«˜ã‚'; levelColor = 'text-amber-700';
        bgClass = 'bg-amber-50'; borderClass = 'border-amber-200';
      } else {
        level = 'é«˜'; levelColor = 'text-red-700';
        bgClass = 'bg-red-50'; borderClass = 'border-red-200';
      }

      const levelText = document.getElementById('level-text');
      levelText.textContent = level;
      levelText.className = `text-xl font-bold ${levelColor}`;

      const resultSection = document.getElementById('result-section');
      resultSection.className = `rounded-2xl shadow-sm border p-6 mb-6 ${bgClass} ${borderClass}`;

      // æ¯”å–©è¡¨ç¤ºã‚’æ›´æ–°
      const metaphor = getMetaphor(fortyYearParticles);
      const metaphorText = document.getElementById('metaphor-text');
      const metaphorWeight = document.getElementById('metaphor-weight');
      
      if (metaphor.count < 0.1) {
        metaphorText.textContent = `${metaphor.icon} ${metaphor.name}ã®æ¬ ç‰‡ç¨‹åº¦`;
      } else if (metaphor.count === 1) {
        metaphorText.textContent = `${metaphor.icon} ${metaphor.name} ç´„1å€‹åˆ†`;
      } else {
        metaphorText.textContent = `${metaphor.icon} ${metaphor.name} ç´„${metaphor.count}å€‹åˆ†`;
      }
      metaphorWeight.textContent = `(ç´„ ${metaphor.grams.toFixed(1)}g)`;

      // å¯„ä¸åº¦ãƒãƒ¼
      const barContainer = document.getElementById('contribution-bar');
      const legendContainer = document.getElementById('contribution-legend');
      barContainer.innerHTML = '';
      legendContainer.innerHTML = '';

      const entries = Object.entries(contributions);
      entries.forEach(([key, value], i) => {
        const percentage = dailyParticles > 0 ? (value / dailyParticles) * 100 : 0;
        if (percentage > 0) {
          const bar = document.createElement('div');
          bar.className = `${colors[i]} transition-all duration-500`;
          bar.style.width = `${percentage}%`;
          barContainer.appendChild(bar);

          const legend = document.createElement('div');
          legend.className = 'flex items-center gap-1';
          legend.innerHTML = `<div class="w-3 h-3 rounded ${colors[i]}"></div><span class="text-gray-600">${contributorLabels[key]} ${percentage.toFixed(0)}%</span>`;
          legendContainer.appendChild(legend);
        }
      });

      // è¡Œå‹•å¤‰å®¹ã‚¢ã‚¤ãƒ†ãƒ 
      updateActionItems(bottledWater, teaBags, hotCup, plasticHeating, cupNoodle);
    }

    function updateActionItems(bottledWater, teaBags, hotCup, plasticHeating, cupNoodle) {
      const container = document.getElementById('action-items');
      const scenarios = [];

      if (bottledWater > 0) {
        const saved = bottledWater * (COEFFICIENTS.bottledWater - COEFFICIENTS.tapWater);
        scenarios.push({
          action: 'ãƒšãƒƒãƒˆãƒœãƒˆãƒ«ã‚’æ°´ç­’ã«åˆ‡æ›¿',
          dailyReduction: saved,
          yearlyReduction: saved * 365,
          icon: 'ğŸš°'
        });
      }

      if (teaBags > 0) {
        const saved = teaBags * COEFFICIENTS.teaBag;
        scenarios.push({
          action: 'ãƒªãƒ¼ãƒ•ãƒ†ã‚£ãƒ¼ã¾ãŸã¯ç´™è£½ãƒ†ã‚£ãƒ¼ãƒãƒƒã‚°ã«',
          dailyReduction: saved,
          yearlyReduction: saved * 365,
          icon: 'ğŸµ'
        });
      }

      if (hotCup > 0) {
        const saved = hotCup * COEFFICIENTS.hotCup;
        scenarios.push({
          action: 'ãƒã‚¤ãƒœãƒˆãƒ«ãƒ»é™¶å™¨ã‚«ãƒƒãƒ—ã‚’ä½¿ç”¨',
          dailyReduction: saved,
          yearlyReduction: saved * 365,
          icon: 'â˜•'
        });
      }

      if (plasticHeating > 0) {
        const saved = plasticHeating * COEFFICIENTS.plasticHeating;
        scenarios.push({
          action: 'ã‚¬ãƒ©ã‚¹ãƒ»é™¶å™¨å®¹å™¨ã§åŠ ç†±',
          dailyReduction: saved,
          yearlyReduction: saved * 365,
          icon: 'ğŸ¥£'
        });
      }

      if (cupNoodle > 0) {
        const saved = cupNoodle * COEFFICIENTS.cupNoodle;
        scenarios.push({
          action: 'ã©ã‚“ã¶ã‚Šã«ç§»ã—ã¦ãŠæ¹¯ã‚’æ³¨ã',
          dailyReduction: saved,
          yearlyReduction: saved * 365,
          icon: 'ğŸœ'
        });
      }

      scenarios.sort((a, b) => b.dailyReduction - a.dailyReduction);

      container.innerHTML = scenarios.map(s => `
        <div class="flex items-center gap-4 p-4 bg-emerald-50 rounded-xl border border-emerald-100">
          <div class="text-2xl">${s.icon}</div>
          <div class="flex-1">
            <div class="font-medium text-gray-800">${s.action}</div>
            <div class="text-sm text-emerald-700">
              1æ—¥ -${formatNumber(s.dailyReduction)} ç²’å­ï¼ˆå¹´é–“ -${formatNumber(s.yearlyReduction)}ï¼‰
            </div>
          </div>
        </div>
      `).join('');

      document.getElementById('action-section').style.display = scenarios.length > 0 ? 'block' : 'none';
    }

    function toggleDetails() {
      const content = document.getElementById('details-content');
      const arrow = document.getElementById('details-arrow');
      content.classList.toggle('hidden');
      arrow.textContent = content.classList.contains('hidden') ? 'â–¼' : 'â–²';
    }

    // åˆæœŸåŒ–
    updateSimulator();
  </script>
</body>
</html>
